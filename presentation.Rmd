---
title: Modules in R
subtitle: eRum 2016
author: Sebastian Warnholz - **INWT** Statistics
output: 
  ioslides_presentation:
    widescreen: true
    logo: logo.svg
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```


## Motivation {.smaller}

<div class="columns-2">
<div style="height=100%">
### Initial Problem
```{r echo = TRUE, error=TRUE}
library("parallel")
helper <- function(x) median(x)
fun <- function(x) helper(x)

cl <- makeCluster(2)
clusterMap(cl, fun, 1:2)
stopCluster(cl)
```
</div>

<div style="bottom: 20px;"></div>

### Solution
```{r echo = TRUE, message=FALSE}
library("parallel")
library("modules")
m <- module({
  import("stats", "median")
  helper <- function(x) median(x)
  fun <- function(x) helper(x)
})

cl <- makeCluster(2)
clusterMap(cl, m$fun, 1:2)
stopCluster(cl)
```

</div>




## The 'Solution'



## Aim of the Package




## Summary

- you can fall back to or integrate `dplyr` and `data.table` functions
- syntactic sugar for anonymous functions
- use custom data types:
    - everything is a method: `map`, `replace`, and `extract`
    - `mutar` respects the data it operates on (for better or worse)
- have *pipeable* syntax: no replacement functions
- may not replace everything in an interactive data analysis `->` it covers
almost all use cases for production code


## Want more?

- `modules` is on GitHub
    - [github.com/wahani/modules](https://www.github.com/wahani/modules)
    - Just file an issue / make a pull request
    - It has a vignette / Readme

- The Presentation is also in GitHub
    - [github.com/wahani/presiModules](https://www.github.com/wahani/presiModules)

- Sebastian Warnholz
    - wahani@gmail.com
